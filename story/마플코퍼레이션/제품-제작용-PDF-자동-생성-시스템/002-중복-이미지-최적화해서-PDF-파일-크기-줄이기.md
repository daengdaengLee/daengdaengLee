# 중복 이미지 최적화해서 PDF 파일 크기 줄이기

## 문제

- PDF 파일 크기가 매우 커져서 수 기가바이트 이상인 경우도 발생합니다.
- PDF 파일 크기가 너무 크면 프린터의 제어 프로그램이 파일을 출력할 때 시간이 너무 오래 걸립니다. 간헐적으로 오류를 발생시키기도 합니다.

## 액션

- 문제의 원인을 분석해 같은 이미지 데이터 중복 문제를 찾아냅니다.
- 한 이미지가 여러 차례 출력될 때 이미지 데이터가 여러 번 파일에 쓰이고 있었습니다.
- PDF 스펙의 indirect object 기능을 사용해 이미지 데이터는 중복되지 않게 하고 한 객체를 여러 번 참조해 출력하도록 개선합니다.

## 결과

- PDF 파일 크기가 평균 1/3정도 줄어들었습니다.
